<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISSEG - Visualizaci√≥n Formularios y Flujos</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';

        const diagramGeneral = `graph TD
    subgraph Login [" AUTENTICACION"]
        L1["Usuario accede"]
        L2{"Credenciales validas?"}
        L3["Cargar Usuario+Area+Permisos"]
        L4{"Autorizado en area?"}
        L5["Acceso lectura"]
        L6["Cargar sistemas del area"]
        
        L1 --> L2
        L2 -->|No| L3A["Error Reintentar"]
        L3A --> L1
        L2 -->|Si| L3
        L3 --> L4
        L4 -->|No| L5
        L4 -->|Si| L6
    end
    
    subgraph Dashboard [" DASHBOARD PRINCIPAL"]
        D1["Ver Mis Solicitudes<br/>Ver Sistemas<br/>Ver Incidencias"]
        D2{"Seleccionar Accion"}
        
        L6 --> D1
        L5 --> D1
        D1 --> D2
    end
    
    subgraph FlujoCracion [" FLUJO 1 CREAR SISTEMA"]
        FC1{"Permiso crear sistema?"}
        FC2["Llenar Formulario A<br/>Justificacion Alcance"]
        FC3{"Revision ISSEG"}
        FC4["Rechazo + Motivo"]
        FC5["Asignar Equipo"]
        FC6["Solicitar Formulario C"]
        FC7["Usuario completa Req"]
        FC8{"Validar Req?"}
        FC9["Crear en BD"]
        FC10["AUDITORIA"]
        FC11["Uptime inicial"]
        FC12["Sistema Creado"]
        
        D2 -->|Crear Sistema| FC1
        FC1 -->|No| DA["No autorizado"]
        DA --> D1
        FC1 -->|Si| FC2
        FC2 --> FC3
        FC3 -->|Rechazado| FC4
        FC4 --> D1
        FC3 -->|Aprobado| FC5
        FC5 --> FC6
        FC6 --> FC7
        FC7 --> FC8
        FC8 -->|Incompleto| FC7
        FC8 -->|Completo| FC9
        FC9 --> FC10
        FC10 --> FC11
        FC11 --> FC12
    end
    
    subgraph FlujoModificacion [" FLUJO 2 MODIFICACION"]
        FM1{"Permiso modificar?"}
        FM2["Seleccionar Sistema"]
        FM3["Llenar Formulario B"]
        FM4{"Revision ISSEG"}
        FM5["Rechazo"]
        FM6["Asignar Desarrollador"]
        FM7["Crear Ticket"]
        FM8["REGISTRAR Cambios"]
        FM9["AUDITORIA"]
        FM10["Modificacion Iniciada"]
        
        D2 -->|Modificar| FM1
        FM1 -->|No| DA2["No autorizado"]
        DA2 --> D1
        FM1 -->|Si| FM2
        FM2 --> FM3
        FM3 --> FM4
        FM4 -->|Rechazado| FM5
        FM5 --> D1
        FM4 -->|Aprobado| FM6
        FM6 --> FM7
        FM7 --> FM8
        FM8 --> FM9
        FM9 --> FM10
    end
    
    subgraph FlujoProblema [" FLUJO 3 REPORTAR PROBLEMA"]
        FP1{"Permiso reportar?"}
        FP2["Seleccionar Sistema"]
        FP3["Llenar Formulario Problema"]
        FP4["Definir SLA Urgencia"]
        FP5{"Revision ISSEG"}
        FP6["Rechazo"]
        FP7["Asignar Responsable"]
        FP8["Iniciar Reloj SLA"]
        FP9["REGISTRAR Problema"]
        FP10["CONTROL TEMPORAL"]
        FP11["ALERTAS SLA"]
        FP12["Problema Registrado"]
        
        D2 -->|Reportar Problema| FP1
        FP1 -->|No| DA3["No autorizado"]
        DA3 --> D1
        FP1 -->|Si| FP2
        FP2 --> FP3
        FP3 --> FP4
        FP4 --> FP5
        FP5 -->|Rechazado| FP6
        FP6 --> D1
        FP5 -->|Aprobado| FP7
        FP7 --> FP8
        FP8 --> FP9
        FP9 --> FP10
        FP10 --> FP11
        FP11 --> FP12
    end
    
    subgraph Cierre [" CIERRE SESION"]
        CS1["Guardar estado"]
        CS2["Cerrar sesion"]
        D2 -->|Cerrar| CS1
        CS1 --> CS2
    end
    
    style Login fill:#E8F4F8,stroke:#0288D1,stroke-width:3px
    style Dashboard fill:#FFF9E6,stroke:#F57C00,stroke-width:3px
    style FlujoCracion fill:#E8F5E9,stroke:#388E3C,stroke-width:3px
    style FlujoModificacion fill:#F3E5F5,stroke:#7B1FA2,stroke-width:3px
    style FlujoProblema fill:#FFEBEE,stroke:#C62828,stroke-width:3px
    style Cierre fill:#F5F5F5,stroke:#616161,stroke-width:2px`;

        mermaid.initialize({ 
            startOnLoad: false, 
            theme: 'default',
            securityLevel: 'loose',
            fontFamily: 'Arial, sans-serif'
        });

        function downloadBlob(blob, filename) {
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            link.remove();
            URL.revokeObjectURL(url);
        }

        function setupDownloads(svgMarkup, svgElement) {
            const svgButton = document.getElementById('download-svg');
            const pngButton = document.getElementById('download-png');

            if (svgButton) {
                svgButton.addEventListener('click', () => {
                    const svgBlob = new Blob([svgMarkup], { type: 'image/svg+xml;charset=utf-8' });
                    downloadBlob(svgBlob, 'diagrama-general-isseg.svg');
                });
            }

            if (pngButton) {
                pngButton.addEventListener('click', () => {
                    const viewBox = svgElement.viewBox.baseVal;
                    const width = Math.ceil(viewBox.width || svgElement.getBBox().width || 1200);
                    const height = Math.ceil(viewBox.height || svgElement.getBBox().height || 800);
                    const scale = 2;

                    const svgWithSize = svgMarkup
                        .replace('<svg', `<svg width="${width}" height="${height}"`);
                    const svgBlob = new Blob([svgWithSize], { type: 'image/svg+xml;charset=utf-8' });
                    const url = URL.createObjectURL(svgBlob);

                    const img = new Image();
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        canvas.width = width * scale;
                        canvas.height = height * scale;
                        const ctx = canvas.getContext('2d');
                        ctx.scale(scale, scale);
                        ctx.drawImage(img, 0, 0, width, height);
                        canvas.toBlob((pngBlob) => {
                            if (pngBlob) {
                                downloadBlob(pngBlob, 'diagrama-general-isseg.png');
                            }
                            URL.revokeObjectURL(url);
                        }, 'image/png');
                    };
                    img.onerror = () => URL.revokeObjectURL(url);
                    img.src = url;
                });
            }
        }

        document.addEventListener('DOMContentLoaded', async () => {
            const container = document.getElementById('diagram-general');
            if (!container) {
                return;
            }

            try {
                const result = await mermaid.render('diagram-general-svg', diagramGeneral);
                container.innerHTML = result.svg;
                if (result.bindFunctions) {
                    result.bindFunctions(container);
                }
                const svgElement = container.querySelector('svg');
                if (svgElement) {
                    setupDownloads(result.svg, svgElement);
                }
            } catch (error) {
                container.innerHTML = '<pre style="color:#b71c1c; white-space: pre-wrap;">Error Mermaid: ' + error + '</pre>';
            }
        });
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .tab-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* FORMULARIOS */
        .formularios-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .formulario-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .formulario-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(0,0,0,0.2);
        }

        .formulario-card.form-a {
            border-top: 5px solid #667eea;
        }

        .formulario-card.form-b {
            border-top: 5px solid #f093fb;
        }

        .formulario-card.form-c {
            border-top: 5px solid #4facfe;
        }

        .formulario-card.form-problema {
            border-top: 5px solid #fa709a;
        }

        .form-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .form-icon {
            font-size: 2em;
        }

        .form-header h3 {
            margin: 0;
            font-size: 1.3em;
        }

        .form-header p {
            color: #666;
            margin: 5px 0 0 0;
            font-size: 0.9em;
        }

        .form-field {
            margin: 12px 0;
            padding-bottom: 12px;
            border-bottom: 1px solid #f0f0f0;
        }

        .form-field:last-child {
            border-bottom: none;
        }

        .field-label {
            font-weight: 600;
            color: #333;
            font-size: 0.95em;
        }

        .field-type {
            display: inline-block;
            background: #f0f0f0;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            color: #666;
            margin-left: 8px;
        }

        .field-required {
            color: #e74c3c;
            font-weight: bold;
        }

        .field-info {
            font-size: 0.9em;
            color: #777;
            margin-top: 4px;
        }

        .form-stats {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            font-size: 0.9em;
        }

        .stat {
            padding: 10px;
        }

        .stat-label {
            color: #666;
            font-size: 0.85em;
        }

        .stat-value {
            font-weight: 700;
            color: #333;
            font-size: 1.2em;
        }

        /* FLUJOS */
        .flow-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            overflow-x: auto;
        }

        .diagram-actions {
            display: flex;
            gap: 10px;
            margin: 10px 0 20px 0;
            flex-wrap: wrap;
        }

        .diagram-actions button {
            border: none;
            padding: 10px 16px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            background: #f0f0f0;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .diagram-actions button:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 14px rgba(0,0,0,0.15);
        }

        #diagram-general svg {
            max-width: 100%;
            height: auto;
        }

        .flow-title {
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: 25px;
            color: #333;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .step-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            flex-shrink: 0;
        }

        .step-number.form-a {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .step-number.form-b {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .step-number.form-c {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .step-number.problema {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }

        .step-content {
            flex: 1;
            min-width: 200px;
        }

        .step-title {
            font-weight: 700;
            color: #333;
            margin-bottom: 5px;
        }

        .step-description {
            color: #666;
            font-size: 0.95em;
        }

        .step-status {
            background: #f0f0f0;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            min-width: 120px;
            text-align: center;
        }

        .status-aprobar {
            background: #fff3cd;
            color: #856404;
        }

        .status-rechazar {
            background: #f8d7da;
            color: #721c24;
        }

        .status-implementar {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-auto {
            background: #d4edda;
            color: #155724;
        }

        /* MATRIZ DECISI√ìN */
        .decision-matrix {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .decision-title {
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: 25px;
            color: #333;
        }

        .decision-question {
            background: #f8f9fa;
            padding: 20px;
            border-left: 5px solid #667eea;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .decision-question h4 {
            margin-bottom: 15px;
            color: #333;
            font-size: 1.1em;
        }

        .decision-answers {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .answer-box {
            border: 2px solid #f0f0f0;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .answer-box:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .answer-label {
            font-weight: 700;
            font-size: 1.2em;
            margin-bottom: 8px;
        }

        .answer-result {
            color: #666;
            font-size: 0.95em;
        }

        .answer-box.yes .answer-label {
            color: #27ae60;
        }

        .answer-box.no .answer-label {
            color: #e74c3c;
        }

        /* COMPARATIVA */
        .comparativa-table {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 700;
            border-bottom: 2px solid #ddd;
            color: #333;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        tr:hover {
            background: #f8f9ff;
        }

        .form-name {
            font-weight: 600;
            color: #333;
        }

        /* LEGEND */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #f0f0f0;
            font-size: 0.95em;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 5px;
        }

        .legend-color.a {
            background: #667eea;
        }

        .legend-color.b {
            background: #f093fb;
        }

        .legend-color.c {
            background: #4facfe;
        }

        .legend-color.problema {
            background: #fa709a;
        }

        footer {
            text-align: center;
            color: white;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .tabs {
                flex-direction: column;
            }

            .tab-btn {
                width: 100%;
            }

            .form-stats {
                grid-template-columns: 1fr;
            }

            .decision-answers {
                grid-template-columns: 1fr;
            }
        }

        .form-link {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            width: 100%;
            text-align: center;
            margin-top: 20px;
        }

        .form-link:hover {
            transform: translateX(2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìã Sistema ISSEG</h1>
            <p>Visualizaci√≥n de Formularios y Flujos de Trabajo</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('formularios')">üìù Formularios</button>
            <button class="tab-btn" onclick="switchTab('flujos')">üîÑ Flujos</button>
            <button class="tab-btn" onclick="switchTab('decision')">üéØ Matriz Decisi√≥n</button>
            <button class="tab-btn" onclick="switchTab('comparativa')">üìä Comparativa</button>
        </div>

        <!-- TAB 1: FORMULARIOS -->
        <div id="formularios" class="tab-content active">
            <div class="formularios-grid">
                <!-- FORMULARIO A -->
                <div class="formulario-card form-a">
                    <div class="form-header">
                        <div class="form-icon">üÜï</div>
                        <div>
                            <h3>Formulario A</h3>
                            <p>Sistema Nuevo</p>
                        </div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">ID Solicitud <span class="field-type">Auto</span></div>
                        <div class="field-info">SN-2026-XXXX (NO visible en formulario, solo al consultar)</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Nombre(s) <span class="field-required">*</span></div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">Nombre del solicitante</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Apellidos <span class="field-required">*</span></div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">Apellidos del solicitante</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">√Årea <span class="field-required">*</span></div>
                        <div class="field-type">Lista</div>
                        <div class="field-info">Departamento del solicitante</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Email <span class="field-required">*</span></div>
                        <div class="field-type">Email</div>
                        <div class="field-info">Para comunicaci√≥n</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Tipo de Contacto <span class="field-required">*</span></div>
                        <div class="field-type">Lista</div>
                        <div class="field-info">Tel√©fono o Celular</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">N√∫mero de Contacto <span class="field-required">*</span></div>
                        <div class="field-type">Tel√©fono</div>
                        <div class="field-info">N√∫mero telef√≥nico</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Extensi√≥n</div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">Solo si aplica</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Nombre Sistema <span class="field-required">*</span></div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">M√°x 100 caracteres</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Tipo Sistema Web <span class="field-required">*</span></div>
                        <div class="field-type">Radio</div>
                        <div class="field-info">Web Interna / Web P√∫blica / Portal / Sistema Gesti√≥n / API</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Descripci√≥n <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Qu√© hace el sistema</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Justificaci√≥n <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Por qu√© se necesita</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Beneficios Esperados <span class="field-required">*</span></div>
                        <div class="field-type">Checkbox</div>
                        <div class="field-info">Ahorro tiempo, automatizaci√≥n, mejora servicio</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Usuarios Estimados <span class="field-required">*</span></div>
                        <div class="field-type">N√∫mero</div>
                        <div class="field-info">Cantidad de usuarios</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">√Åreas Beneficiadas <span class="field-required">*</span></div>
                        <div class="field-type">Radio + Checkbox</div>
                        <div class="field-info">Solo √°rea solicitante / Toda instituci√≥n / Varias √°reas</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Aprobaci√≥n Jefe Directo <span class="field-required">*</span></div>
                        <div class="field-type">Checkbox</div>
                        <div class="field-info">Obligatorio</div>
                    </div>

                    <div class="form-stats">
                        <div class="stat">
                            <div class="stat-label">Campos</div>
                            <div class="stat-value">15</div>
                        </div>
                        <div class="stat">
                            <div class="stat-label">Aprobaci√≥n</div>
                            <div class="stat-value" style="color: #27ae60;">‚úì S√ç</div>
                        </div>
                    </div>
                    <a href="formularios/01-Formulario-A-Sistema-Nuevo.html" class="form-link">Ver Formulario ‚Üí</a>
                </div>

                <!-- FORMULARIO B -->
                <div class="formulario-card form-b">
                    <div class="form-header">
                        <div class="form-icon">üîß</div>
                        <div>
                            <h3>Formulario B</h3>
                            <p>Modificaci√≥n</p>
                        </div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">ID Modificaci√≥n <span class="field-type">Auto</span></div>
                        <div class="field-info">MOD-2026-XXXX (NO visible en formulario, solo al consultar)</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Nombre(s) <span class="field-required">*</span></div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">Nombre del solicitante</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Apellidos <span class="field-required">*</span></div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">Apellidos del solicitante</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Email <span class="field-required">*</span></div>
                        <div class="field-type">Email</div>
                        <div class="field-info">Para comunicaci√≥n</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Tipo de Contacto <span class="field-required">*</span></div>
                        <div class="field-type">Lista</div>
                        <div class="field-info">Tel√©fono o Celular</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">N√∫mero de Contacto <span class="field-required">*</span></div>
                        <div class="field-type">Tel√©fono</div>
                        <div class="field-info">N√∫mero telef√≥nico</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Extensi√≥n</div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">Solo si aplica</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Sistema <span class="field-required">*</span></div>
                        <div class="field-type">Lista</div>
                        <div class="field-info">Solo sistemas del √°rea (sin mostrar versiones)</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Tipo de Cambio <span class="field-required">*</span></div>
                        <div class="field-type">Radio</div>
                        <div class="field-info">Nueva funcionalidad, correcci√≥n, mejora, integraci√≥n</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Descripci√≥n <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Detalle del cambio</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">M√≥dulos Afectados <span class="field-required">*</span></div>
                        <div class="field-type">Checkbox</div>
                        <div class="field-info">Frontend, Backend, BD, Reportes, Integraciones, Seguridad</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Raz√≥n del Cambio <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Por qu√© es necesario este cambio</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Urgencia <span class="field-required">*</span></div>
                        <div class="field-type">Radio</div>
                        <div class="field-info">Inmediata, Alta, Media, Baja</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Impacto en Operaci√≥n <span class="field-required">*</span></div>
                        <div class="field-type">Radio</div>
                        <div class="field-info">Cr√≠tico, Alto, Medio, Bajo</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Usuarios Afectados <span class="field-required">*</span></div>
                        <div class="field-type">N√∫mero</div>
                        <div class="field-info">Cantidad de usuarios</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">¬øRequiere Migraci√≥n? <span class="field-required">*</span></div>
                        <div class="field-type">Radio</div>
                        <div class="field-info">No, Parcial, Completa</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">¬øRequiere Capacitaci√≥n? <span class="field-required">*</span></div>
                        <div class="field-type">Radio</div>
                        <div class="field-info">No, B√°sica, Completa</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">¬øExiste Workaround? <span class="field-required">*</span></div>
                        <div class="field-type">Radio</div>
                        <div class="field-info">S√≠ (con descripci√≥n y c√≥mo usarlo) / No</div>
                    </div>

                    <div class="form-stats">
                        <div class="stat">
                            <div class="stat-label">Campos</div>
                            <div class="stat-value">16</div>
                        </div>
                        <div class="stat">
                            <div class="stat-label">Aprobaci√≥n</div>
                            <div class="stat-value" style="color: #27ae60;">‚úì S√ç</div>
                        </div>
                    </div>
                    <a href="formularios/02-Formulario-B-Modificacion.html" class="form-link">Ver Formulario ‚Üí</a>
                </div>

                <!-- FORMULARIO C -->
                <div class="formulario-card form-c">
                    <div class="form-header">
                        <div class="form-icon">üìê</div>
                        <div>
                            <h3>Formulario C</h3>
                            <p>Requerimientos</p>
                        </div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">ID Proyecto <span class="field-required">*</span></div>
                        <div class="field-info">Referencia del Formulario A aprobado (NO visible en formulario)</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Nombre(s) del Product Manager <span class="field-required">*</span></div>
                        <div class="field-type">Texto (Auto)</div>
                        <div class="field-info">Desde asignaci√≥n ISSEG</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Apellidos del Product Manager <span class="field-required">*</span></div>
                        <div class="field-type">Texto (Auto)</div>
                        <div class="field-info">Desde asignaci√≥n ISSEG</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Nombre(s) del Desarrollador L√≠der <span class="field-required">*</span></div>
                        <div class="field-type">Texto (Auto)</div>
                        <div class="field-info">Desde asignaci√≥n ISSEG</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Apellidos del Desarrollador L√≠der <span class="field-required">*</span></div>
                        <div class="field-type">Texto (Auto)</div>
                        <div class="field-info">Desde asignaci√≥n ISSEG</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Nombre(s) del Responsable <span class="field-required">*</span></div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">Usuario del √°rea</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Apellidos del Responsable <span class="field-required">*</span></div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">PM responsable del proyecto</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Objetivo General <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Meta principal del sistema</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Objetivos Espec√≠ficos <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Objetivos concretos</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Alcance Funcional <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Qu√© S√ç incluye el sistema</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Fuera de Alcance <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Qu√© NO incluye el sistema</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Tabla de Roles <span class="field-required">*</span></div>
                        <div class="field-type">Tabla Din√°mica</div>
                        <div class="field-info">Rol, Descripci√≥n, Permisos, Cantidad de Usuarios</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Tabla de M√≥dulos <span class="field-required">*</span></div>
                        <div class="field-type">Tabla Din√°mica</div>
                        <div class="field-info">M√≥dulos del sistema</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Requerimientos Funcionales <span class="field-required">*</span></div>
                        <div class="field-type">Tabla Din√°mica</div>
                        <div class="field-info">Funcionalidades del sistema</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Requerimientos No Funcionales <span class="field-required">*</span></div>
                        <div class="field-type">Tabla</div>
                        <div class="field-info">Rendimiento, Seguridad, Disponibilidad</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Reglas de Negocio <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Validaciones y restricciones</div>
                    </div>

                    <div class="form-stats">
                        <div class="stat">
                            <div class="stat-label">Campos</div>
                            <div class="stat-value">11</div>
                        </div>
                        <div class="stat">
                            <div class="stat-label">Aprobaci√≥n</div>
                            <div class="stat-value" style="color: #f39c12;">PM</div>
                        </div>
                    </div>
                    <a href="formularios/03-Formulario-C-Requerimientos.html" class="form-link">Ver Formulario ‚Üí</a>
                </div>

                <!-- FORMULARIO PROBLEMA -->
                <div class="formulario-card form-problema">
                    <div class="form-header">
                        <div class="form-icon">üö®</div>
                        <div>
                            <h3>Formulario Problema</h3>
                            <p>Incidencias</p>
                        </div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">ID Incidencia <span class="field-type">Auto</span></div>
                        <div class="field-info">INC-2026-XXXX (NO visible en formulario, solo al consultar)</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Fecha <span class="field-required">*</span></div>
                        <div class="field-type">Fecha</div>
                        <div class="field-info">Cu√°ndo se detect√≥ el problema (solo d√≠a, sin hora)</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Nombre(s) del Reportante <span class="field-required">*</span></div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">Nombre de quien reporta</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Apellidos del Reportante <span class="field-required">*</span></div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">Apellidos de quien reporta</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">√Årea <span class="field-required">*</span></div>
                        <div class="field-type">Lista</div>
                        <div class="field-info">Departamento del reportante</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Email <span class="field-required">*</span></div>
                        <div class="field-type">Email</div>
                        <div class="field-info">Para comunicaciones de seguimiento</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Tipo de Contacto <span class="field-required">*</span></div>
                        <div class="field-type">Lista</div>
                        <div class="field-info">Tel√©fono o Celular</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">N√∫mero de Contacto <span class="field-required">*</span></div>
                        <div class="field-type">Tel√©fono</div>
                        <div class="field-info">N√∫mero telef√≥nico</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Extensi√≥n</div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">Solo si aplica</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Sistema Afectado <span class="field-required">*</span></div>
                        <div class="field-type">Lista</div>
                        <div class="field-info">Solo sistemas del √°rea (sin mostrar versiones)</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">T√≠tulo Resumido <span class="field-required">*</span></div>
                        <div class="field-type">Texto</div>
                        <div class="field-info">Resumen breve</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Descripci√≥n <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Qu√© est√° pasando</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Pasos para Reproducir <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Instrucciones paso a paso</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Urgencia <span class="field-required">*</span></div>
                        <div class="field-type">Radio</div>
                        <div class="field-info">Cr√≠tica üî¥, Alta üü†, Media üü°, Baja üü¢</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">SLA Autom√°tico <span class="field-type">Auto</span></div>
                        <div class="field-info">Seg√∫n urgencia</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Usuarios Afectados <span class="field-required">*</span></div>
                        <div class="field-type">N√∫mero</div>
                        <div class="field-info">Cantidad de usuarios</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Comportamiento Esperado <span class="field-required">*</span></div>
                        <div class="field-type">Textarea</div>
                        <div class="field-info">Qu√© deber√≠a pasar</div>
                    </div>

                    <div class="form-field">
                        <div class="field-label">Archivos Adjuntos <span class="field-required">No</span></div>
                        <div class="field-type">Upload</div>
                        <div class="field-info">Screenshots, logs</div>
                    </div>

                    <div class="form-stats">
                        <div class="stat">
                            <div class="stat-label">Campos</div>
                            <div class="stat-value">17</div>
                        </div>
                        <div class="stat">
                            <div class="stat-label">Aprobaci√≥n</div>
                            <div class="stat-value" style="color: #e74c3c;">NO</div>
                        </div>
                    </div>
                    <a href="formularios/04-Formulario-Problema-Incidencia.html" class="form-link">Ver Formulario ‚Üí</a>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color a"></div>
                    <span><strong>Form A:</strong> Sistema Nuevo</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color b"></div>
                    <span><strong>Form B:</strong> Modificaci√≥n</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color c"></div>
                    <span><strong>Form C:</strong> Requerimientos</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color problema"></div>
                    <span><strong>Formulario Problema:</strong> Incidencias</span>
                </div>
            </div>
        </div>

        <!-- TAB 2: FLUJOS -->
        <div id="flujos" class="tab-content">
            <!-- DIAGRAMA GENERAL -->
            <div class="flow-container">
                <div class="flow-title">üó∫Ô∏è Diagrama General del Sistema Completo</div>
                <p style="color: #666; margin-bottom: 20px;">Este diagrama muestra c√≥mo interact√∫an todos los flujos desde la autenticaci√≥n hasta el cierre. Haz clic en las pesta√±as abajo para ver cada flujo en detalle.</p>
                
                <div class="diagram-actions">
                    <button id="download-svg">Descargar SVG</button>
                    <button id="download-png">Descargar PNG</button>
                </div>
                <div id="diagram-general"></div>
            </div>

            <!-- FLUJO 1: SISTEMA NUEVO -->
            <div class="flow-container">
                <div class="flow-title">üÜï Flujo 1: Sistema Nuevo (Formulario A ‚Üí Formulario C ‚Üí Desarrollo)</div>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="color: #333; margin-bottom: 10px;">üìã Descripci√≥n del Flujo</h4>
                    <p style="color: #666; line-height: 1.6;">
                        Se utiliza cuando se necesita un <strong>sistema completamente nuevo</strong> que no existe en la organizaci√≥n.
                    </p>
                </div>

                <div class="flow-step">
                    <div class="step-number form-a">1</div>
                    <div class="step-content">
                        <div class="step-title">Solicitud Inicial (Formulario A)</div>
                        <div class="step-description">
                            <strong>Qui√©n:</strong> Usuario solicitante + Jefe Directo<br>
                            <strong>Qu√© hace:</strong> Completa Formulario A con justificaci√≥n, beneficios, usuarios estimados y aprobaci√≥n.<br>
                            <strong>Sistema:</strong> Genera ID autom√°tico SN-2026-XXXX
                        </div>
                    </div>
                    <div class="step-status status-aprobar">En Revisi√≥n</div>
                </div>
 
                <div class="flow-step">
                    <div class="step-number form-a">2</div>
                    <div class="step-content">
                        <div class="step-title">Revisi√≥n T√©cnica y de Negocio (ISSEG)</div>
                        <div class="step-description">
                            <strong>Qui√©n:</strong> Equipo ISSEG<br>
                            <strong>Qu√© analiza:</strong> Viabilidad t√©cnica, disponibilidad de recursos, alineaci√≥n estrat√©gica y priorizaci√≥n.
                        </div>
                    </div>
                    <div class="step-status status-aprobar">Decisi√≥n Cr√≠tica</div>
                </div>

                <div class="flow-step">
                    <div class="step-number form-a">3</div>
                    <div class="step-content">
                        <div class="step-title">Decisi√≥n: Aprobaci√≥n o Rechazo</div>
                        <div class="step-description">
                            <strong>‚úÖ Aprueba:</strong> Se asigna equipo y contin√∫a<br>
                            <strong>‚ùå Rechaza:</strong> Se documenta el motivo y notifica al solicitante<br>
                            <strong>‚ö†Ô∏è M√°s info:</strong> Se solicitan aclaraciones
                        </div>
                    </div>
                    <div class="step-status status-rechazar">Punto de Decisi√≥n</div>
                </div>

                <div class="flow-step">
                    <div class="step-number form-c">4</div>
                    <div class="step-content">
                        <div class="step-title">Asignaci√≥n de Equipo y Formulario C</div>
                        <div class="step-description">
                            <strong>Qui√©n:</strong> PM + Usuario<br>
                            <strong>Qu√© hace:</strong> Completa Formulario C con requerimientos detallados, roles, permisos, m√≥dulos funcionales y reglas de negocio.
                        </div>
                    </div>
                    <div class="step-status status-implementar">En Documentaci√≥n</div>
                </div>

                <div class="flow-step">
                    <div class="step-number form-c">5</div>
                    <div class="step-content">
                        <div class="step-title">Validaci√≥n de Requerimientos</div>
                        <div class="step-description">
                            <strong>Qui√©n:</strong> PM + Usuario + Arquitecto<br>
                            <strong>Qu√© valida:</strong> Requerimientos completos, diagramas de arquitectura, y estimaci√≥n de esfuerzo.<br>
                            <strong>Si incompleto:</strong> Regresa al paso anterior
                        </div>
                    </div>
                    <div class="step-status status-implementar">Validaci√≥n</div>
                </div>

                <div class="flow-step">
                    <div class="step-number form-c">6</div>
                    <div class="step-content">
                        <div class="step-title">Desarrollo e Implementaci√≥n</div>
                        <div class="step-description">
                            <strong>Qui√©n:</strong> Equipo de Desarrollo<br>
                            <strong>Actividades:</strong> Desarrollo iterativo, testing, configuraci√≥n de ambientes, documentaci√≥n y capacitaci√≥n.<br>
                            <strong>Registro:</strong> Versi√≥n 1.0, estado "Desarrollo"
                        </div>
                    </div>
                    <div class="step-status status-implementar">En Desarrollo</div>
                </div>

                <div class="flow-step">
                    <div class="step-number form-c">7</div>
                    <div class="step-content">
                        <div class="step-title">Despliegue a Producci√≥n y Cierre</div>
                        <div class="step-description">
                            <strong>Actividades:</strong> Despliegue a producci√≥n, monitoreo, soporte intensivo, tracking de disponibilidad.<br>
                            <strong>‚úÖ Sistema operativo y en producci√≥n</strong>
                        </div>
                    </div>
                    <div class="step-status status-auto">‚úÖ Completado</div>
                </div>

                <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; margin-top: 20px; border-left: 5px solid #4caf50;">
                    <h4 style="color: #2e7d32; margin-bottom: 10px;">üìä Resumen del Flujo 1</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; color: #666;">
                        <div><strong>Pasos Totales:</strong> 7 pasos</div>
                        <div><strong>Tiempo Total:</strong> 2-6 meses</div>
                        <div><strong>Formularios:</strong> Form A + Form C</div>
                        <div><strong>Aprobaciones:</strong> Jefe + ISSEG</div>
                        <div><strong>Tablas BD:</strong> Sistemas, Audit_Sistemas_Nuevos, Uptime_Sistema</div>
                        <div><strong>ID Generado:</strong> SN-YYYY-XXXX</div>
                    </div>
                </div>
            </div>

            <!-- FLUJO 2: MODIFICACI√ìN -->
            <div class="flow-container">
                <div class="flow-title">üîß Flujo 2: Modificaci√≥n de Sistema (Formulario B ‚Üí Implementaci√≥n)</div>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="color: #333; margin-bottom: 10px;">üìã Descripci√≥n del Flujo</h4>
                    <p style="color: #666; line-height: 1.6;">
                        Este flujo se usa cuando un <strong>sistema ya existe</strong> pero necesita cambios, mejoras o nuevas funcionalidades. 
                        Es m√°s r√°pido que crear un sistema nuevo porque la infraestructura base ya est√° funcionando. 
                        El flujo incluye an√°lisis de impacto para asegurar que los cambios no afecten negativamente a los usuarios actuales.
                    </p>
                    <p style="color: #666; line-height: 1.6; margin-top: 10px;">
                        <strong>Ejemplo:</strong> El sistema de n√≥mina ya existe y funciona, pero necesita agregar un nuevo m√≥dulo para 
                        calcular bonos por desempe√±o. Es una modificaci√≥n al sistema existente, no un sistema nuevo.
                    </p>
                </div>

                <div class="flow-step">
                    <div class="step-number form-b">1</div>
                    <div class="step-content">
                        <div class="step-title">Solicitud de Modificaci√≥n (Formulario B)</div>
                        <div class="step-description">
                            <strong>Qui√©n:</strong> Usuario solicitante<br>
                            <strong>Qu√© hace:</strong> Completa Formulario B especificando sistema, tipo de cambio, descripci√≥n, m√≥dulos afectados y urgencia.<br>
                            <strong>Sistema:</strong> Genera ID MOD-2026-XXXX
                        </div>
                    </div>
                    <div class="step-status status-aprobar">En Revisi√≥n</div>
                </div>

                <div class="flow-step">
                    <div class="step-number form-b">2</div>
                    <div class="step-content">
                        <div class="step-title">An√°lisis de Impacto (ISSEG)</div>
                        <div class="step-description">
                            <strong>Qui√©n:</strong> Equipo t√©cnico ISSEG<br>
                            <strong>Qu√© analiza:</strong> Usuarios afectados, m√≥dulos impactados, integraciones, esfuerzo t√©cnico y riesgos.
                        </div>
                    </div>
                    <div class="step-status status-aprobar">An√°lisis</div>
                </div>

                <div class="flow-step">
                    <div class="step-number form-b">3</div>
                    <div class="step-content">
                        <div class="step-title">Asignaci√≥n Autom√°tica de SLA</div>
                        <div class="step-description">
                            <strong>SLA seg√∫n urgencia:</strong><br>
                            üî¥ <strong>CR√çTICA:</strong> 1h respuesta, 4h resoluci√≥n<br>
                            üü† <strong>ALTA:</strong> 4h respuesta, 8h resoluci√≥n<br>
                            üü° <strong>MEDIA:</strong> 8h respuesta, 16h resoluci√≥n<br>
                            üü¢ <strong>BAJA:</strong> 24h respuesta, 48h resoluci√≥n
                        </div>
                    </div>
                    <div class="step-status status-implementar">SLA Activado</div>
                </div>

                <div class="flow-step">
                    <div class="step-number form-b">4</div>
                    <div class="step-content">
                        <div class="step-title">Revisi√≥n y Decisi√≥n ISSEG</div>
                        <div class="step-description">
                            <strong>Qui√©n:</strong> Responsable ISSEG<br>
                            <strong>Decisiones:</strong> Aprobar, Rechazar, Posponer o Solicitar m√°s informaci√≥n.
                        </div>
                    </div>
                    <div class="step-status status-rechazar">Punto de Decisi√≥n</div>
                </div>

                <div class="flow-step">
                    <div class="step-number form-b">5</div>
                    <div class="step-content">
                        <div class="step-title">Asignaci√≥n y Desarrollo</div>
                        <div class="step-description">
                            <strong>Qui√©n:</strong> Desarrollador + QA<br>
                            <strong>Actividades:</strong> Desarrollo, testing, code review, validaci√≥n en QA y testing de regresi√≥n.<br>
                            <strong>Registro:</strong> Historial_Cambios, incremento de versi√≥n
                        </div>
                    </div>
                    <div class="step-status status-implementar">En Desarrollo</div>
                </div>

                <div class="flow-step">
                    <div class="step-number form-b">6</div>
                    <div class="step-content">
                        <div class="step-title">Despliegue a Producci√≥n y Cierre</div>
                        <div class="step-description">
                            <strong>Actividades:</strong> Backup, despliegue en horario acordado, migraci√≥n de datos, capacitaci√≥n y monitoreo.<br>
                            <strong>‚úÖ Modificaci√≥n completada y en producci√≥n</strong>
                        </div>
                    </div>
                    <div class="step-status status-auto">‚úÖ Completado</div>
                </div>

                <div style="background: #f3e5f5; padding: 20px; border-radius: 10px; margin-top: 20px; border-left: 5px solid #9c27b0;">
                    <h4 style="color: #6a1b9a; margin-bottom: 10px;">üìä Resumen del Flujo 2</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; color: #666;">
                        <div><strong>Pasos Totales:</strong> 6 pasos</div>
                        <div><strong>Tiempo Total:</strong> 1-4 semanas</div>
                        <div><strong>Formularios:</strong> Form B √∫nicamente</div>
                        <div><strong>Aprobaciones:</strong> ISSEG</div>
                        <div><strong>Tablas BD:</strong> Historial_Cambios, Audit_Modificaciones, SLA_Definiciones</div>
                        <div><strong>ID Generado:</strong> MOD-YYYY-XXXX</div>
                    </div>
                </div>
            </div>

            <!-- FLUJO 3: PROBLEMA -->
            <div class="flow-container">
                <div class="flow-title">üö® Flujo 3: Resoluci√≥n de Incidencias (Formulario Problema ‚Üí Resoluci√≥n)</div>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="color: #333; margin-bottom: 10px;">üìã Descripci√≥n del Flujo</h4>
                    <p style="color: #666; line-height: 1.6;">
                        Se activa cuando un <strong>sistema en producci√≥n tiene errores o bugs</strong>. Es el flujo m√°s √°gil porque requiere respuesta r√°pida.
                    </p>
                </div>

                <div class="flow-step">
                    <div class="step-number problema">1</div>
                    <div class="step-content">
                        <div class="step-title">Reporte de Incidencia (Formulario Problema)</div>
                        <div class="step-description">
                            <strong>Qui√©n:</strong> Cualquier usuario afectado<br>
                            <strong>Qu√© reporta:</strong> Sistema afectado, descripci√≥n del problema, pasos para reproducirlo, urgencia y evidencias.<br>
                            <strong>Sistema:</strong> Genera ID INC-2026-XXXX
                        </div>
                    </div>
                    <div class="step-status status-auto">Reportado</div>
                </div>

                <div class="flow-step">
                    <div class="step-number problema">2</div>
                    <div class="step-content">
                        <div class="step-title">Asignaci√≥n Autom√°tica de SLA</div>
                        <div class="step-description">
                            <strong>SLA autom√°tico por urgencia:</strong><br>
                            üî¥ <strong>CR√çTICA:</strong> 1h respuesta / 4h resoluci√≥n<br>
                            üü† <strong>ALTA:</strong> 4h respuesta / 8h resoluci√≥n<br>
                            üü° <strong>MEDIA:</strong> 8h respuesta / 16h resoluci√≥n<br>
                            üü¢ <strong>BAJA:</strong> 24h respuesta / 48h resoluci√≥n
                        </div>
                    </div>
                    <div class="step-status status-auto">SLA Activado</div>
                </div>

                <div class="flow-step">
                    <div class="step-number problema">3</div>
                    <div class="step-content">
                        <div class="step-title">Notificaci√≥n Autom√°tica y Asignaci√≥n</div>
                        <div class="step-description">
                            <strong>Sistema ejecuta:</strong> Notificaci√≥n al equipo t√©cnico, asignaci√≥n autom√°tica seg√∫n reglas y activaci√≥n de contador SLA en tiempo real.
                        </div>
                    </div>
                    <div class="step-status status-auto">Asignado Autom√°tico</div>
                </div>

                <div class="flow-step">
                    <div class="step-number problema">4</div>
                    <div class="step-content">
                        <div class="step-title">Diagn√≥stico e Investigaci√≥n</div>
                        <div class="step-description">
                            <strong>Qui√©n:</strong> Equipo t√©cnico<br>
                            <strong>Actividades:</strong> Revisar evidencias, reproducir el problema, revisar logs, identificar causa ra√≠z.
                        </div>
                    </div>
                    <div class="step-status status-implementar">En Investigaci√≥n</div>
                </div>

                <div class="flow-step">
                    <div class="step-number problema">5</div>
                    <div class="step-content">
                        <div class="step-title">Resoluci√≥n e Implementaci√≥n del Fix</div>
                        <div class="step-description">
                            <strong>Actividades:</strong> Desarrollar fix, testing, despliegue seg√∫n urgencia, monitoreo post-despliegue.<br>
                            <strong>Registro:</strong> Historial_Cambios, versi√≥n patch actualizada
                        </div>
                    </div>
                    <div class="step-status status-implementar">En Resoluci√≥n</div>
                </div>

                <div class="flow-step">
                    <div class="step-number problema">6</div>
                    <div class="step-content">
                        <div class="step-title">Verificaci√≥n, Cierre y Post-Mortem</div>
                        <div class="step-description">
                            <strong>Verificaci√≥n:</strong> Usuario valida la resoluci√≥n.<br>
                            <strong>Cierre:</strong> Registro de m√©tricas, cumplimiento de SLA y encuesta de satisfacci√≥n.<br>
                            <strong>‚úÖ Incidencia cerrada</strong>
                        </div>
                    </div>
                    <div class="step-status status-auto">‚úÖ Cerrado</div>
                </div>

                <div style="background: #ffebee; padding: 20px; border-radius: 10px; margin-top: 20px; border-left: 5px solid #f44336;">
                    <h4 style="color: #c62828; margin-bottom: 10px;">üìä Resumen del Flujo 3</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; color: #666;">
                        <div><strong>Pasos Totales:</strong> 6 pasos</div>
                        <div><strong>Tiempo Total:</strong> 1h - 48h (seg√∫n SLA)</div>
                        <div><strong>Formularios:</strong> Form Problema √∫nicamente</div>
                        <div><strong>Aprobaciones:</strong> Ninguna (autom√°tico)</div>
                        <div><strong>Tablas BD:</strong> Problemas_Reportados, Control_Incidencias, SLA_Definiciones, Alertas_SLA</div>
                        <div><strong>ID Generado:</strong> INC-YYYY-XXXX</div>
                    </div>
                    <div style="margin-top: 15px; padding: 15px; background: white; border-radius: 8px;">
                        <strong>‚ö†Ô∏è Caracter√≠sticas Especiales del Flujo 3:</strong><br>
                        ‚Ä¢ Totalmente automatizado (sin aprobaciones manuales)<br>
                        ‚Ä¢ SLA visual con contador en tiempo real<br>
                        ‚Ä¢ Notificaciones autom√°ticas multi-canal<br>
                        ‚Ä¢ Asignaci√≥n inteligente por sistema<br>
                        ‚Ä¢ Escalaci√≥n autom√°tica si no se cumple SLA<br>
                        ‚Ä¢ Post-mortem obligatorio para incidencias cr√≠ticas
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 3: MATRIZ DECISI√ìN -->
        <div id="decision" class="tab-content">
            <div class="decision-matrix">
                <div class="decision-title">üéØ Matriz de Decisi√≥n: ¬øCu√°l Formulario Usar?</div>

                <div class="decision-question">
                    <h4>‚ùì Pregunta 1: ¬øYa existe un sistema para esta funcionalidad?</h4>
                    <div class="decision-answers">
                        <div class="answer-box no">
                            <div class="answer-label">‚ùå NO</div>
                            <div class="answer-result">üëâ Usa <strong>FORMULARIO A</strong><br>(Sistema Nuevo)</div>
                        </div>
                        <div class="answer-box yes">
                            <div class="answer-label">‚úÖ S√ç</div>
                            <div class="answer-result">üëâ Ve a Pregunta 2</div>
                        </div>
                    </div>
                </div>

                <div class="decision-question">
                    <h4>‚ùì Pregunta 2: ¬øEst√° fallando o reportando un error el sistema?</h4>
                    <div class="decision-answers">
                        <div class="answer-box yes">
                            <div class="answer-label">‚úÖ S√ç</div>
                            <div class="answer-result">üëâ Usa <strong>FORMULARIO PROBLEMA</strong><br>(Incidencia/Bug)</div>
                        </div>
                        <div class="answer-box no">
                            <div class="answer-label">‚ùå NO</div>
                            <div class="answer-result">üëâ Ve a Pregunta 3</div>
                        </div>
                    </div>
                </div>

                <div class="decision-question">
                    <h4>‚ùì Pregunta 3: ¬øNecesitas cambiar/mejorar el sistema existente?</h4>
                    <div class="decision-answers">
                        <div class="answer-box yes">
                            <div class="answer-label">‚úÖ S√ç</div>
                            <div class="answer-result">üëâ Usa <strong>FORMULARIO B</strong><br>(Modificaci√≥n)</div>
                        </div>
                        <div class="answer-box no">
                            <div class="answer-label">‚ùå NO</div>
                            <div class="answer-result">üëâ No se requiere formulario<br>Revisar documentaci√≥n existente</div>
                        </div>
                    </div>
                </div>

                <div class="decision-question">
                    <h4>‚ùì Pregunta 4: ¬øFue APROBADO tu Formulario A?</h4>
                    <div class="decision-answers">
                        <div class="answer-box yes">
                            <div class="answer-label">‚úÖ S√ç</div>
                            <div class="answer-result">üëâ Contin√∫a con <strong>FORMULARIO C</strong><br>(Detallar Requerimientos)</div>
                        </div>
                        <div class="answer-box no">
                            <div class="answer-label">‚ùå NO</div>
                            <div class="answer-result">üëâ Esperar aprobaci√≥n<br>O revisar si necesitas Form B</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 4: COMPARATIVA -->
        <div id="comparativa" class="tab-content">
            <div class="comparativa-table">
                <h2 style="margin-bottom: 20px; color: #333;">üìä Comparativa de Formularios</h2>

                <table>
                    <thead>
                        <tr>
                            <th>Aspecto</th>
                            <th>üìù Formulario A<br>Sistema Nuevo</th>
                            <th>üîß Formulario B<br>Modificaci√≥n</th>
                            <th>üìê Formulario C<br>Requerimientos</th>
                            <th>üö® Formulario Problema<br>Incidencias</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ID Generado</strong></td>
                            <td>SN-2026-XXXX</td>
                            <td>MOD-2026-XXXX</td>
                            <td>Sin ID</td>
                            <td>INC-2026-XXXX</td>
                        </tr>
                        <tr>
                            <td><strong>Prop√≥sito</strong></td>
                            <td>Solicitar nuevo sistema</td>
                            <td>Cambiar sistema existente</td>
                            <td>Detalle de requerimientos</td>
                            <td>Reportar errores/bugs</td>
                        </tr>
                        <tr>
                            <td><strong>Cu√°ndo Usar</strong></td>
                            <td>No existe soluci√≥n</td>
                            <td>Ya existe el sistema</td>
                            <td>Post-aprobaci√≥n Form A</td>
                            <td>Sistema fallando</td>
                        </tr>
                        <tr>
                            <td><strong>Secciones</strong></td>
                            <td style="text-align: center;">7</td>
                            <td style="text-align: center;">8</td>
                            <td style="text-align: center;">7</td>
                            <td style="text-align: center;">7</td>
                        </tr>
                        <tr>
                            <td><strong>Campos Totales</strong></td>
                            <td style="text-align: center;">25+</td>
                            <td style="text-align: center;">25+</td>
                            <td style="text-align: center;">50+</td>
                            <td style="text-align: center;">20+</td>
                        </tr>
                        <tr>
                            <td><strong>Tiempo Completar</strong></td>
                            <td style="text-align: center;">15-20 min</td>
                            <td style="text-align: center;">12-15 min</td>
                            <td style="text-align: center;">30-45 min</td>
                            <td style="text-align: center;">10-15 min</td>
                        </tr>
                        <tr>
                            <td><strong>Requiere Aprobaci√≥n</strong></td>
                            <td style="color: #27ae60; font-weight: bold;">‚úÖ S√ç (ISSEG)</td>
                            <td style="color: #27ae60; font-weight: bold;">‚úÖ S√ç (ISSEG)</td>
                            <td style="color: #f39c12; font-weight: bold;">‚ö†Ô∏è Validaci√≥n PM</td>
                            <td style="color: #e74c3c; font-weight: bold;">‚ùå NO</td>
                        </tr>
                        <tr>
                            <td><strong>SLA/Seguimiento</strong></td>
                            <td>Por aprobaci√≥n</td>
                            <td>Por urgencia</td>
                            <td>N/A</td>
                            <td>üî¥üü†üü°üü¢ Autom√°tico</td>
                        </tr>
                        <tr>
                            <td><strong>Paso Siguiente</strong></td>
                            <td>Form C (si aprueba)</td>
                            <td>Implementaci√≥n</td>
                            <td>Desarrollo</td>
                            <td>Resoluci√≥n t√©cnica</td>
                        </tr>
                        <tr>
                            <td><strong>Responsables</strong></td>
                            <td>Usuario + Jefe</td>
                            <td>Usuario + Jefe</td>
                            <td>PM + Dev + Usuario</td>
                            <td>Equipo T√©cnico</td>
                        </tr>
                        <tr>
                            <td><strong>Tabla BD Principal</strong></td>
                            <td>Sistemas</td>
                            <td>Historial_Cambios</td>
                            <td>Documento (Wiki)</td>
                            <td>Problemas_Reportados</td>
                        </tr>
                    </tbody>
                </table>

                <div style="margin-top: 30px; background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h3 style="margin-bottom: 15px; color: #333;">üìå Notas Importantes</h3>
                    <ul style="color: #666;">
                        <li><strong>Formulario A:</strong> Es el punto de entrada para nuevos sistemas. Debe incluir aprobaci√≥n del jefe directo antes de ir a ISSEG.</li>
                        <li><strong>Formulario B:</strong> Se puede enviar m√∫ltiples veces para el mismo sistema. Cada modificaci√≥n genera un MOD-ID √∫nico.</li>
                        <li><strong>Formulario C:</strong> Solo se completa si Form A fue aprobado. Responsabilidad de PM + Dev team.</li>
                        <li><strong>Formulario Problema:</strong> Es autom√°tico, sin aprobaci√≥n. SLA se asigna en tiempo real seg√∫n urgencia.</li>
                        <li><strong>Todos los formularios generan auditor√≠a permanente en la BD.</strong></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>üìã Sistema ISSEG v2.0 | Visualizaci√≥n Interactiva de Formularios y Flujos | Febrero 2026</p>
    </footer>

    <script>
        function switchTab(tabName) {
            // Ocultar todos los tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Remover active de todos los botones
            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            // Mostrar el tab seleccionado
            document.getElementById(tabName).classList.add('active');

            // Marcar bot√≥n como activo
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
